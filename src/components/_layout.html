{% set site_title = site_title | default('Title') %}
<!DOCTYPE html>
<html lang="ru">
	<head>
		<meta charset="utf-8">
		<meta name="language" content="Russian">
		<meta name="format-detection" content="telephone=no">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<title>{{ site_title }}</title>
		<link rel="preload" href="./fonts/Vasek/Vasek-Italic.woff2" as="font" type="font/woff2" crossorigin="anonymous">
		<link rel="preload" href="./fonts/AeonikProTrial/AeonikProTrial-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
		<link rel="stylesheet" href="./css/libs.css?cb">
		<link rel="stylesheet" href="./css/main.css?cb">
		<script>
			const meta = document.querySelector('meta[name="viewport"]');
			meta.setAttribute('content', `user-scalable=no, width=${screen.width <= 320 ? 320 : 'device-width'}`);
		</script>
	</head>
	<body>

		<div class="scaler-outer">
			<div class="scaler-inner">
				<div class="wrapper">

					{% include 'components/_header.html' %}

					{% block content %}{% endblock %}

					{% include 'components/_footer.html' %}

				</div>
			</div>
		</div>

		<script>
			function scaleContent() {
				const windowWidth = window.innerWidth;
				const layout = windowWidth < 576 ? 'mobile' : windowWidth < 1024 ? 'tablet' : 'desktop';
				const baseWidths = {
					mobile: 320,
					tablet: 768,
					desktop: 1200,
				};
				const baseWidth = baseWidths[layout];
				const scale = windowWidth / baseWidth;

				const outer = document.querySelector('.scaler-outer');
  				const inner = document.querySelector('.scaler-inner');

				const innerContentHeight = inner.getBoundingClientRect().height / scale;
				
				if (/^((?!chrome|android).)*safari/i.test(navigator.userAgent)) {
					inner.style.transform = 'none';
					inner.style.zoom = scale;
				} else {
					outer.style.height = `${innerContentHeight * scale}px`;
					inner.style.transform = `scale(${scale})`;
				}
			}

			scaleContent();
		</script>

		<script defer src="./js/libs.js?cb"></script>
		<script defer src="./js/main.js?cb"></script>
	</body>
</html>